package com.pony.config;

import java.util.Arrays;

import org.dom4j.Document;
import org.dom4j.Node;


public class ConfigParser {
	public static ConfigAttr getConfigAttr(Document doc){
		ConfigAttr configAttr = new ConfigAttr();
		
		String role = doc.selectSingleNode("//Config/Role").getText();
		configAttr.role = role;
		
		Node listsNode = doc.selectSingleNode("//Config/ListenPorts");
		String[] strs = listsNode.getText().split(",");
		configAttr.listenPorts = Arrays.asList(strs).stream().mapToInt(Integer::parseInt).toArray();
		
		return configAttr;
				
	}
}
